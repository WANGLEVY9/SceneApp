# 需求用例文档

## 背景与目标
- 项目：罗浮山景区导览 SceneApp（移动端 + 管理端 + 双后端）。
- 目标：为游客提供导览、打卡、积分与礼品兑换闭环；为运营人员提供可视化管理能力。

## 目标用户群体
- 游客（未登录）：浏览景区介绍、景点/商家列表、基础信息。
- 游客（登录/注册用户）：打卡、点赞、评论、查看/兑换礼品、积分享受权益。
- 运营管理员：维护景区介绍、景点/商家/打卡点、礼品与兑换记录，监控打卡数据。

## 核心需求（按角色）
- 游客/注册用户
  - 账号：短信验证码登录，首次设置用户名/密码，修改用户名/密码/资料。
  - 导览：查看景区介绍、商家、景点/打卡点列表与详情。
  - 打卡：提交打卡、查看个人打卡记录、排行榜，点赞他人打卡；基于地理信息的推荐/排序。
  - 动态：浏览动态流，评论动态。
  - 积分：积分获取（打卡、点赞、评论、被点赞），查看积分记录。
  - 礼品：浏览礼品、提交兑换、查看兑换记录。
- 运营管理员
  - 认证：管理员登录、退出；JWT 鉴权访问后台接口。
  - 内容：维护景区介绍、景点/商家信息、打卡点配置。
  - 打卡数据：查看/删除打卡记录、管理打卡点。
  - 礼品：维护礼品、查看兑换记录并更新状态。

## 典型用例
1) 游客浏览景区
   - 前置：无登录要求。
   - 步骤：打开 App → 首页呈现景区介绍 → 浏览景点/商家列表。
   - 成功：用户获得景区信息；无异常。
2) 用户打卡并获取积分
   - 前置：用户已登录；位置信息满足打卡点要求（逻辑由后端判定）。
   - 步骤：选择打卡点 → 发起打卡 → 后端校验并记录 → 返回积分变更。
   - 成功：打卡记录写入，积分 +10；可在积分记录与排行榜体现。
3) 用户点赞/评论动态
   - 前置：用户已登录。
   - 步骤：在动态流列表选择动态 → 点赞 / 发表评论。
   - 成功：点赞 +1 积分；评论 +2 积分；被点赞 +2 积分。
4) 用户兑换礼品
   - 前置：用户已登录且积分充足。
   - 步骤：选择礼品 → 提交兑换 → 后端扣减积分并生成兑换记录。
   - 成功：生成兑换记录，积分扣减；记录可在“兑换记录”中查看。
5) 管理员维护景点/商家
   - 前置：管理员登录。
   - 步骤：进入管理前台 → 新增/编辑/删除景点或商家 → 数据写入后台。
   - 成功：列表实时更新，面向用户端的展示数据同步更新。
6) 管理员审核兑换记录
   - 前置：管理员登录。
   - 步骤：在兑换记录列表筛选订单 → 更新兑换状态（发放/关闭）。
   - 成功：状态更新并记录；用户端可看到兑换状态变化。

## 约束与范围
- 地图/定位：当前主要依赖后端点位与前端展示，若接入真实定位需新增 SDK 与服务端校验。
- 推荐/排序：现有基于后端接口参数排序；可进一步结合 LLM/大数据个性化推荐作为后续迭代。
- 支付/库存：礼品兑换当前为积分逻辑，无现金支付与实物库存扣减逻辑，后续可扩展。
